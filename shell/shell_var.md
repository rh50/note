
# shell_var

## shell中不会区分变量的类型，分为环境变量和普通变量。

## 输入参数
	$0: 获取当前shell脚本的文件名，如果执行包含了路径, 则包含路径，通过$0可以获取当前执行路径，dirname $0
	$1-$n: 获取当前Shell脚本执行时底n个参数值，$1,$2,…$9，如果n大于9，则用大括号括起来，如${12}，接的参数用空格隔开
	$_: 获取在此之前执行的的命令或脚本的最后一个参数
	shift: 参数移位
	参数索引使用变量: val=${!i} or eval val="\${$i}"

## 命令相关
	$$: 获取当前执行的Shell脚本的进程号
	$!: 获取上一个在后台工作的进程号
	$?: 获取上一条命令的执行状态的返回值（0为成功，非零为失败）

## 数组变量：
	$#: 获取当前Shell脚本执行时，参数的总个数或数组数量。
	$*: 获取当前Shell脚本所有传参的参数或数组，不加引号和@相同, 如果给@相同，如果给@相同，如果给加上引号 "$",则表示将所有的参数都视为字符串，相当于"$1 $2 $3"
	$@: 获取当前Shell脚本所有传参的参数或数组，不加引号和$*相同，加引号相当于将所有的参数视为独立的字符串，如："$@" 相当于"$" ，"$1" , "$2" , "$3"这是将多参数传给其他程序的最好的方式。当$*和$@都加双引号时两者是有区别的，当不加时，两者是无区别的

## 环境变量
	PATH: bin环境变量
	SUDO_USER: sudo前的用户名


## linux获取字符串最后几位,Shell截取字符串的8种方法

	1. # 号截取，删除左边字符，保留右边字符。 (非贪婪匹配)

	echo ${var#*/}

	其中 var 是变量名，# 号是运算符，*/ 表示从左边开始删除第一个 / 号及左边的所有字符

	即删除 http://

	结果是 ：www.aaa.com/123.htm

	2. ## 号截取，删除左边字符，保留右边字符。(贪婪匹配)

	echo ${var##*/}

	##*/ 表示从左边开始删除最后(最右边)一个 / 号及左边的所有字符

	即删除 http://www.aaa.com/

	结果是 123.htm

	3. %号截取，删除右边字符，保留左边字符(非贪婪匹配)

	echo ${var%/*}

	%/* 表示从右边开始，删除第一个 / 号及右边的字符

	结果是：http://www.aaa.com

	4. %% 号截取，删除右边字符，保留左边字符 (贪婪匹配)

	echo ${var%%/*}

	%%/* 表示从右边开始，删除最后(最左边)一个 / 号及右边的字符

	结果是：http:

	5. 从左边第几个字符开始，及字符的个数

	echo ${var:0:5}

	其中的 0 表示左边第一个字符开始，5 表示字符的总个数。

	结果是：http:

	6. 从左边第几个字符开始，一直到结束。

	echo ${var:7}

	其中的 7 表示左边第8个字符开始，一直到结束。

	结果是 ：www.aaa.com/123.htm

	7. 从右边第几个字符开始，及字符的个数

	echo ${var:0-7:3}

	其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。

	结果是：123

	8. 从右边第几个字符开始，一直到结束。

	echo ${var:0-7}

	表示从右边第七个字符开始，一直到结束。

	结果是：123.htm

	注：(左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示)

